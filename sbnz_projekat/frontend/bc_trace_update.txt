// Ovo je template za aÅ¾uriranje BC trace-a
// Kopiraj ovaj kod u BackwardChainingPage.js

{queryResult.queryType === 'IS_DISEASE_PROBABLE' && (
  <div>
    <div style={{ color: '#007bff', marginBottom: '5px', fontWeight: 'bold' }}>
      ğŸ¯ GOAL: IS_DISEASE_PROBABLE({queryResult.diseaseName})
    </div>
    <div style={{ marginLeft: '20px', marginBottom: '5px', color: '#6c757d', fontStyle: 'italic' }}>
      â†“ Backward chaining: TraÅ¾im pravilo koje moÅ¾e dokazati ovaj cilj
    </div>
    
    {queryResult.result && queryResult.result.includes('DA') ? (
      <>
        <div style={{ marginLeft: '20px', marginBottom: '5px' }}>
          â”œâ”€ ğŸ“‹ PRAVILO: "BC-FACT: Bolest je verovatna"
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px', color: '#6c757d' }}>
          â”‚  WHEN: Disease(probability â‰¥ 50.0)
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px' }}>
          â”‚  â”œâ”€ ğŸ”„ REKURZIVNI PODCILJ: PronaÄ‘i Disease({queryResult.diseaseName})
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â”œâ”€ Pretraga Working Memory...
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â”œâ”€ Biljka: {plantData.cropType} - {plantData.variety}
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â”œâ”€ Uslovi: T={plantData.currentConditions?.temperature}Â°C, RH={plantData.currentConditions?.humidity}%
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â”œâ”€ PronaÄ‘en: Disease({queryResult.diseaseName}, probability={probability !== null ? probability.toFixed(1) : '?'}%)
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â””â”€ âœ… Uslov zadovoljen: {probability !== null ? probability.toFixed(1) : '?'}% â‰¥ 50.0%
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px' }}>
          â”‚  â”œâ”€ ğŸ”„ REKURZIVNI PODCILJ: not Fact(DISEASE_PROBABLE, {queryResult.diseaseName})
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â”œâ”€ Pretraga Working Memory...
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â””â”€ âœ… Fakt ne postoji (moÅ¾e se kreirati)
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px', color: '#28a745' }}>
          â”‚  â””â”€ âœ… SVI USLOVI ZADOVOLJENI â†’ Aktiviram THEN deo
        </div>
        <div style={{ marginLeft: '20px', marginBottom: '5px' }}>
          â”œâ”€ âš¡ AKCIJA: insert(new Fact("DISEASE_PROBABLE", "{queryResult.diseaseName}"))
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px' }}>
          â”‚  â””â”€ Kreiran novi fakt u Working Memory
        </div>
        <div style={{ marginLeft: '20px', marginBottom: '5px' }}>
          â”œâ”€ ğŸ“‹ PRAVILO: "BC-QUERY: Da li je bolest verovatna?"
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px', color: '#6c757d' }}>
          â”‚  WHEN: DiagnosticQuery + Fact(DISEASE_PROBABLE)
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px' }}>
          â”‚  â”œâ”€ ğŸ”„ REKURZIVNI PODCILJ: PronaÄ‘i DiagnosticQuery(IS_DISEASE_PROBABLE)
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â””â”€ âœ… PronaÄ‘en query objekat
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px' }}>
          â”‚  â”œâ”€ ğŸ”„ REKURZIVNI PODCILJ: PronaÄ‘i Fact(DISEASE_PROBABLE, {queryResult.diseaseName})
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â””â”€ âœ… PronaÄ‘en fakt (kreiran u prethodnom pravilu)
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px' }}>
          â”‚  â””â”€ âš¡ AKCIJA: Postavljam result i explanation na query
        </div>
        <div style={{ color: '#28a745', marginLeft: '20px', fontWeight: 'bold' }}>
          â””â”€ âœ… FINALNI ZAKLJUÄŒAK: DA - Bolest {queryResult.diseaseName} je verovatna ({probability !== null ? probability.toFixed(1) : '?'}%)
        </div>
        <div style={{ marginLeft: '40px', marginTop: '10px', padding: '10px', backgroundColor: '#e7f3ff', borderRadius: '5px', fontSize: '12px' }}>
          ğŸ’¡ Rekurzivni lanac: Cilj â†’ Pravilo 1 (kreira fakt) â†’ Pravilo 2 (koristi fakt) â†’ Odgovor
        </div>
      </>
    ) : (
      <>
        <div style={{ marginLeft: '20px', marginBottom: '5px' }}>
          â”œâ”€ ğŸ“‹ PRAVILO: "BC-FACT: Bolest je verovatna"
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px', color: '#6c757d' }}>
          â”‚  WHEN: Disease(probability â‰¥ 50.0)
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px' }}>
          â”‚  â”œâ”€ ğŸ”„ REKURZIVNI PODCILJ: PronaÄ‘i Disease({queryResult.diseaseName})
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â”œâ”€ Pretraga Working Memory...
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â”œâ”€ Biljka: {plantData.cropType} - {plantData.variety}
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â”œâ”€ Uslovi: T={plantData.currentConditions?.temperature}Â°C, RH={plantData.currentConditions?.humidity}%
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â”œâ”€ PronaÄ‘en: Disease({queryResult.diseaseName}, probability={probability !== null ? probability.toFixed(1) : '?'}%)
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â””â”€ âŒ Uslov NIJE zadovoljen: {probability !== null ? probability.toFixed(1) : '?'}% &lt; 50.0%
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px', color: '#dc3545' }}>
          â”‚  â””â”€ âŒ Pravilo se NE aktivira
        </div>
        <div style={{ marginLeft: '20px', marginBottom: '5px' }}>
          â”œâ”€ ğŸ“‹ PRAVILO: "BC-QUERY: Nema dovoljno Äinjenica za bolest" (FALLBACK)
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px', color: '#6c757d' }}>
          â”‚  WHEN: DiagnosticQuery + Disease(probability &lt; 50) + not Fact(DISEASE_PROBABLE)
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px' }}>
          â”‚  â”œâ”€ ğŸ”„ REKURZIVNI PODCILJ: PronaÄ‘i DiagnosticQuery
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â””â”€ âœ… PronaÄ‘en query objekat
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px' }}>
          â”‚  â”œâ”€ ğŸ”„ REKURZIVNI PODCILJ: PronaÄ‘i Disease(probability &lt; 50%)
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â””â”€ âœ… PronaÄ‘en: Disease({probability !== null ? probability.toFixed(1) : '?'}%)
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px' }}>
          â”‚  â”œâ”€ ğŸ”„ REKURZIVNI PODCILJ: not Fact(DISEASE_PROBABLE)
        </div>
        <div style={{ marginLeft: '60px', marginBottom: '5px' }}>
          â”‚  â”‚  â””â”€ âœ… Fakt ne postoji
        </div>
        <div style={{ marginLeft: '40px', marginBottom: '5px' }}>
          â”‚  â””â”€ âš¡ AKCIJA: Postavljam negativan rezultat
        </div>
        <div style={{ color: '#dc3545', marginLeft: '20px', fontWeight: 'bold' }}>
          â””â”€ âŒ FINALNI ZAKLJUÄŒAK: NE - Nedovoljno Äinjenica za potvrdu bolesti {queryResult.diseaseName}
        </div>
        <div style={{ marginLeft: '40px', marginTop: '10px', padding: '10px', backgroundColor: '#fff3e0', borderRadius: '5px', fontSize: '12px' }}>
          ğŸ’¡ Rekurzivni lanac: Cilj â†’ Pravilo 1 (neuspeh) â†’ Pravilo 2 (fallback) â†’ Odgovor
        </div>
      </>
    )}
  </div>
)}
